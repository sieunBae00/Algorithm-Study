# [Gold IV] 트리 - 4803 

[문제 링크](https://www.acmicpc.net/problem/4803) 

### 성능 요약

메모리: 3080 KB, 시간: 24 ms

### 분류

자료 구조, 그래프 이론, 그래프 탐색, 트리, 깊이 우선 탐색, 분리 집합

### 제출 일자

2026년 1월 28일 04:13:10

### 문제 설명

<p>그래프는 정점과 간선으로 이루어져 있다. 두 정점 사이에 경로가 있다면, 두 정점은 연결되어 있다고 한다. 연결 요소는 모든 정점이 서로 연결되어 있는 정점의 부분집합이다. 그래프는 하나 또는 그 이상의 연결 요소로 이루어져 있다.</p>

<p>트리는 사이클이 없는 연결 요소이다. 트리에는 여러 성질이 있다. 예를 들어, 트리는 정점이 n개, 간선이 n-1개 있다. 또, 임의의 두 정점에 대해서 경로가 유일하다.</p>

<p>그래프가 주어졌을 때, 트리의 개수를 세는 프로그램을 작성하시오.</p>

### 입력 

 <p>입력은 여러 개의 테스트 케이스로 이루어져 있다. 각 테스트 케이스의 첫째 줄에는 n ≤ 500과 m ≤ n(n-1)/2을 만족하는 정점의 개수 n과 간선의 개수 m이 주어진다. 다음 m개의 줄에는 간선을 나타내는 두 개의 정수가 주어진다. 같은 간선은 여러 번 주어지지 않는다. 정점은 1번부터 n번까지 번호가 매겨져 있다. 입력의 마지막 줄에는 0이 두 개 주어진다.</p>

### 출력 

 <p>입력으로 주어진 그래프에 트리가 없다면 "No trees."를, 한 개라면 "There is one tree."를, T개(T > 1)라면 "A forest of T trees."를 테스트 케이스 번호와 함께 출력한다.</p>


---
### Idea

### 처음 생각
`__"연결요소 개수구하기" 느낌.__` + `*단, 사이클이 있으면 연결요소 카운팅에서 제외.`  
> 💡 연결요소 개수는 __'DFS 돈 횟수'__ 로 구한다.  
  
- 🛑 사이클은 어떻게 확인할 것인가?  
> 💡 DFS중, `__"이미 방문한 노드인데__ && __방금 온 곳(부모)도 아니라면"__` 사이클이다.  

  
#### 🛑 연결요소 개수(`ans`) 카운팅 타이밍은 언제?  
- ⚠️ `DFS` 내에서는 카운팅하지 않도록 한다. (재귀 돌면서 의도치 않게 __중복 카운팅__ 됨)  
> 💡 사이클인지 체크하는 변수 만들어서, `DFS` 돈 __후__ 에 사이클인지 체크, __이때 `ans` 조정.__   
> ⚠️ 사이클 체크 변수를 만들어도, 마찬가지로 `DFS` 내에서는 연결요소 개수를 카운팅하지 않는다.  
  

---
#### ⚠️ 배열 초기화 주의  
`배열.resize()` 는 배열의 크기만 조정해 주고, 원래 있던 값들을 빼내 주지는 않는다.   
> 보다 정확히는, __"새로 늘어나는 칸"__ 만 __0으로 초기화__ 하고, __"원래 있던 칸"__ 의 값은 __건드리지 않는다.__  
  
따라서 올바른 배열 초기화를 위해서는  
1. `clear()` 후 새롭게 `resize()`  
2. `assign( 크기, 초기화 값/배열 )`  
을 사용하는 것이 바람직하다.  
